{"version":3,"sources":["webpack:///./src/app/members/messages/chat/chat.component.html","webpack:///./src/app/members/messages/chat/chat.component.scss","webpack:///./src/app/members/messages/chat/chat.component.ts","webpack:///./src/app/members/messages/messages.module.ts","webpack:///./src/app/members/messages/messages.page.html","webpack:///./src/app/members/messages/messages.page.scss","webpack:///./src/app/members/messages/messages.page.ts","webpack:///./src/app/members/messages/new/new.component.html","webpack:///./src/app/members/messages/new/new.component.scss","webpack:///./src/app/members/messages/new/new.component.ts"],"names":[],"mappings":"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","file":"messages-messages-module.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <!-- TODO: Chat name -->\\r\\n    <ion-title>{{ chat.title }}</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button [routerLink]=\\\"'../../'\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <div class=\\\"chat\\\">\\r\\n    <div class=\\\"chat-history\\\">\\r\\n      <ul>\\r\\n        <li class=\\\"clearfix\\\" *ngFor=\\\"let message of this.chat.messages\\\">\\r\\n          <!--\\r\\n            Align right class message-data on right\\r\\n            Float right and other message class for message on right\\r\\n            My message for message on left\\r\\n          -->\\r\\n          <div class=\\\"message-data\\\" [class.align-right]=\\\"!userIsSender(message)\\\">\\r\\n              <span class=\\\"message-data-time\\\" >{{ getTime(message) }}</span> &nbsp; &nbsp;\\r\\n              <span class=\\\"message-data-name\\\" >{{ getParticipant(message.sender).name }}</span>\\r\\n          </div>\\r\\n          <div class=\\\"message\\\" [ngClass]=\\\"{\\r\\n              'float-right': !userIsSender(message),\\r\\n              'other-message': !userIsSender(message),\\r\\n              'my-message': userIsSender(message)\\r\\n            }\\\">\\r\\n            {{ message.content }}\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </div> <!-- end chat-history -->\\r\\n    \\r\\n    <div class=\\\"chat-message clearfix\\\">\\r\\n      <ion-input [(ngModel)]=\\\"messageText\\\" placeholder=\\\"Enter a message...\\\" class=\\\"chat-message-input\\\" type=\\\"text\\\"></ion-input>\\r\\n      <button (click)=\\\"submit()\\\">\\r\\n        <ion-icon name=\\\"send\\\"></ion-icon>\\r\\n      </button>\\r\\n    </div> <!-- end chat-message -->\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","module.exports = \"@import url(https://fonts.googleapis.com/css?family=Lato:400,700);\\n*, *:before, *:after {\\n  box-sizing: border-box; }\\nbody {\\n  font: 14px/20px \\\"Lato\\\", Arial, sans-serif; }\\n.chat {\\n  height: 100%; }\\n.chat .chat-history {\\n    height: 90%;\\n    overflow-y: scroll; }\\n.chat .chat-history ul li {\\n      list-style-type: none; }\\n.chat .chat-history .message-data {\\n      margin-bottom: 15px; }\\n.chat .chat-history .message-data-time {\\n      color: #a8aab1;\\n      padding-left: 6px; }\\n.chat .chat-history .message {\\n      color: white;\\n      padding: 18px 20px;\\n      line-height: 26px;\\n      font-size: 16px;\\n      border-radius: 7px;\\n      margin-bottom: 30px;\\n      width: 90%;\\n      position: relative; }\\n.chat .chat-history .message:after {\\n        bottom: 100%;\\n        left: 7%;\\n        border: solid transparent;\\n        content: \\\" \\\";\\n        height: 0;\\n        width: 0;\\n        position: absolute;\\n        pointer-events: none;\\n        border-bottom-color: #86BB71;\\n        border-width: 10px;\\n        margin-left: -10px; }\\n.chat .chat-history .my-message {\\n      background: #86BB71; }\\n.chat .chat-history .other-message {\\n      background: #94C2ED; }\\n.chat .chat-history .other-message:after {\\n        border-bottom-color: #94C2ED;\\n        left: 93%; }\\n.chat .chat-message {\\n    height: 10%;\\n    display: flex;\\n    align-items: center;\\n    background-color: var(--ion-item-background-color); }\\n.chat .chat-message .chat-message-input {\\n      border-radius: 1rem;\\n      width: 86%;\\n      margin-left: 1%;\\n      background-color: var(--ion-background-color);\\n      color: var(--ion-text-color);\\n      display: inline-block; }\\n.chat .chat-message button {\\n      background: none;\\n      float: right;\\n      color: #94C2ED;\\n      border: none;\\n      cursor: pointer;\\n      font-weight: bold;\\n      width: 13%;\\n      text-align: center; }\\n.chat .chat-message button:hover {\\n        color: #75b1e8; }\\n.chat .chat-message button ion-icon {\\n        font-size: 2rem; }\\n.clearfix:after {\\n  visibility: hidden;\\n  display: block;\\n  font-size: 0;\\n  content: \\\" \\\";\\n  clear: both;\\n  height: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9tZXNzYWdlcy9jaGF0L0M6XFxVc2Vyc1xcTW9zaHVcXERlc2t0b3BcXENhcnBvb2xcXENhcnBvb2wvc3JjXFxhcHBcXG1lbWJlcnNcXG1lc3NhZ2VzXFxjaGF0XFxjaGF0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlFQUFZO0FBT1o7RUFDRSxzQkFBc0IsRUFBQTtBQUd4QjtFQUNFLHlDQUF5QyxFQUFBO0FBRzNDO0VBQ0UsWUFBWSxFQUFBO0FBRGQ7SUFJSSxXQUFXO0lBQ1gsa0JBQWtCLEVBQUE7QUFMdEI7TUFRTSxxQkFBcUIsRUFBQTtBQVIzQjtNQVdNLG1CQUFtQixFQUFBO0FBWHpCO01BZU0sY0FBeUI7TUFDekIsaUJBQWlCLEVBQUE7QUFoQnZCO01Bb0JNLFlBQVk7TUFDWixrQkFBa0I7TUFDbEIsaUJBQWlCO01BQ2pCLGVBQWU7TUFDZixrQkFBa0I7TUFDbEIsbUJBQW1CO01BQ25CLFVBQVU7TUFDVixrQkFBa0IsRUFBQTtBQTNCeEI7UUE4QlEsWUFBWTtRQUNaLFFBQVE7UUFDUix5QkFBeUI7UUFDekIsWUFBWTtRQUNaLFNBQVM7UUFDVCxRQUFRO1FBQ1Isa0JBQWtCO1FBQ2xCLG9CQUFvQjtRQUNwQiw0QkFuRE87UUFvRFAsa0JBQWtCO1FBQ2xCLGtCQUFrQixFQUFBO0FBeEMxQjtNQTZDTSxtQkExRFMsRUFBQTtBQWFmO01BaURNLG1CQTdEUSxFQUFBO0FBWWQ7UUFvRFEsNEJBaEVNO1FBaUVOLFNBQVMsRUFBQTtBQXJEakI7SUE0REksV0FBVztJQUNYLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsa0RBQWtELEVBQUE7QUEvRHREO01BaUVNLG1CQUFtQjtNQUNuQixVQUFVO01BQ1YsZUFBZTtNQUNmLDZDQUE2QztNQUM3Qyw0QkFBNEI7TUFDNUIscUJBQXFCLEVBQUE7QUF0RTNCO01BMEVNLGdCQUFnQjtNQUNoQixZQUFZO01BQ1osY0F4RlE7TUF5RlIsWUFBWTtNQUNaLGVBQWU7TUFDZixpQkFBaUI7TUFDakIsVUFBVTtNQUNWLGtCQUFrQixFQUFBO0FBakZ4QjtRQW1GUSxjQUF3QixFQUFBO0FBbkZoQztRQXNGUSxlQUFlLEVBQUE7QUFXdkI7RUFDQyxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLFlBQVk7RUFDWixZQUFZO0VBQ1osV0FBVztFQUNYLFNBQVMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvbWVzc2FnZXMvY2hhdC9jaGF0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PUxhdG86NDAwLDcwMCk7XHJcblxyXG4kZ3JlZW46ICM4NkJCNzE7XHJcbiRibHVlOiAjOTRDMkVEO1xyXG4kb3JhbmdlOiAjRTM4OTY4O1xyXG4kZ3JheTogIzkyOTU5RTtcclxuXHJcbiosICo6YmVmb3JlLCAqOmFmdGVyIHtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG5ib2R5IHtcclxuICBmb250OiAxNHB4LzIwcHggXCJMYXRvXCIsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4uY2hhdCB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIFxyXG4gIC5jaGF0LWhpc3Rvcnkge1xyXG4gICAgaGVpZ2h0OiA5MCU7XHJcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XHJcblxyXG4gICAgdWwgbGkge1xyXG4gICAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgICB9XHJcbiAgICAubWVzc2FnZS1kYXRhIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLm1lc3NhZ2UtZGF0YS10aW1lIHtcclxuICAgICAgY29sb3I6IGxpZ2h0ZW4oJGdyYXksIDglKTtcclxuICAgICAgcGFkZGluZy1sZWZ0OiA2cHg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5tZXNzYWdlIHsgICAgICBcclxuICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICBwYWRkaW5nOiAxOHB4IDIwcHg7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAyNnB4O1xyXG4gICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDdweDtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICBcclxuICAgICAgJjphZnRlciB7XHJcbiAgICAgICAgYm90dG9tOiAxMDAlO1xyXG4gICAgICAgIGxlZnQ6IDclO1xyXG4gICAgICAgIGJvcmRlcjogc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgY29udGVudDogXCIgXCI7XHJcbiAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgIHdpZHRoOiAwO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiAkZ3JlZW47XHJcbiAgICAgICAgYm9yZGVyLXdpZHRoOiAxMHB4O1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAtMTBweDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAubXktbWVzc2FnZSB7XHJcbiAgICAgIGJhY2tncm91bmQ6ICRncmVlbjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLm90aGVyLW1lc3NhZ2Uge1xyXG4gICAgICBiYWNrZ3JvdW5kOiAkYmx1ZTtcclxuICAgICAgXHJcbiAgICAgICY6YWZ0ZXIge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICRibHVlO1xyXG4gICAgICAgIGxlZnQ6IDkzJTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIC5jaGF0LW1lc3NhZ2Uge1xyXG4gICAgaGVpZ2h0OiAxMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1pdGVtLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgLmNoYXQtbWVzc2FnZS1pbnB1dCB7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XHJcbiAgICAgIHdpZHRoOiA4NiU7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAxJTtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgICBjb2xvcjogdmFyKC0taW9uLXRleHQtY29sb3IpO1xyXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICAgIGZsb2F0OiByaWdodDtcclxuICAgICAgY29sb3I6ICRibHVlO1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIHdpZHRoOiAxMyU7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgY29sb3I6IGRhcmtlbigkYmx1ZSwgNyUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLmNsZWFyZml4OmFmdGVyIHtcclxuXHR2aXNpYmlsaXR5OiBoaWRkZW47XHJcblx0ZGlzcGxheTogYmxvY2s7XHJcblx0Zm9udC1zaXplOiAwO1xyXG5cdGNvbnRlbnQ6IFwiIFwiO1xyXG5cdGNsZWFyOiBib3RoO1xyXG5cdGhlaWdodDogMDtcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Message, Participant, Chat } from 'src/app/services/helper-classes';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'chat',\r\n  templateUrl: './chat.component.html',\r\n  styleUrls: ['./chat.component.scss'],\r\n})\r\nexport class ChatComponent implements OnInit {\r\n\r\n  public chat: Chat;\r\n  messageText: string;\r\n\r\n  constructor(\r\n    public cs: ChatService,\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(params => {\r\n      this.chat = this.cs.getChat(params.get('id'));\r\n      // TODO: Remove DOM manipulation\r\n      const element = document.getElementsByClassName('chat-history')[0];\r\n      setTimeout(() => { element.scrollTop = element.scrollHeight; }, 100);\r\n    });\r\n  }\r\n\r\n  getParticipant(sender: number): Participant {\r\n    return this.chat.participants[sender];\r\n  }\r\n\r\n  scrollMessages(e: Event) {\r\n    \r\n  }\r\n\r\n  getTime(message: Message): string {\r\n    const date = new Date(message.time);\r\n    let time: string;\r\n    if (date.getMinutes() < 10)\r\n      time = `${date.getHours()}:0${date.getMinutes()}, `;\r\n    else\r\n      time = `${date.getHours()}:${date.getMinutes()}, `;\r\n    const now = new Date();\r\n    // If today\r\n    if (date.getDate() === now.getDate()\r\n    && date.getMonth() === now.getMonth()\r\n    && date.getFullYear() === now.getFullYear())\r\n      time += 'Today';\r\n    // If this year\r\n    else if (date.getFullYear() === now.getFullYear())\r\n      time += `${date.getDate()}/${date.getMonth()}`;\r\n    else\r\n      time += `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`;\r\n    return time;\r\n  }\r\n\r\n  submit() {\r\n    if (!this.messageText) {\r\n      // TODO: Empty msg\r\n      return;\r\n    }\r\n\r\n    this.cs.sendMessage(this.chat.id, this.messageText);\r\n\r\n    // Reset\r\n    this.messageText = '';\r\n  }\r\n\r\n  userIsSender(message: Message): boolean {\r\n    return this.getParticipant(message.sender).email === this.cs.user.email;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MessagesPage } from './messages.page';\r\nimport { ChatComponent } from './chat/chat.component';\r\nimport { NewComponent } from './new/new.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MessagesPage\r\n  },\r\n  {\r\n    path: 'chat/:id',\r\n    component: ChatComponent\r\n  },\r\n  {\r\n    path: 'new',\r\n    component: NewComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [MessagesPage, ChatComponent, NewComponent]\r\n})\r\nexport class MessagesPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Inbox</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"members/dashboard\\\" [routerLink]=\\\"'../../dashboard'\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content padding>\\r\\n  <ion-item *ngIf=\\\"!this.cs.isUsable(); else foreverAlone\\\">\\r\\n    <ion-text [color]=\\\"'danger'\\\" class=\\\"ion-text-center ion-margin\\\">Notice: Please update your app to view your inbox.</ion-text>\\r\\n  </ion-item>\\r\\n  <ng-template #foreverAlone>\\r\\n    <ion-item *ngIf=\\\"emptyInbox(); else inboxMessages\\\">\\r\\n      <ion-img [src]=\\\"'../../../assets/img/forever_alone.png'\\\"></ion-img>\\r\\n    </ion-item>\\r\\n  </ng-template>\\r\\n  <ng-template #inboxMessages>\\r\\n  <ion-list>\\r\\n    <ion-item *ngFor=\\\"let chat of getSortedChats()\\\" (click)=\\\"goToChat($event)\\\" [attr.data-chat-id]=\\\"chat.id\\\">\\r\\n      <ion-col size=\\\"8\\\">\\r\\n      <ion-label>\\r\\n        <b>{{ chat.title }}</b><br>\\r\\n        {{ getLastSender(chat.messages[chat.messages.length-1].sender, chat.participants) }}: {{ chat.messages[chat.messages.length-1].content }}\\r\\n      </ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"4\\\">\\r\\n      <ion-label style=\\\"float: right\\\">\\r\\n          <ion-col size=\\\"6\\\">\\r\\n            {{ unreadMessages() }}\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"6\\\">\\r\\n            {{ getTime(chat.messages[chat.messages.length-1]) }}\\r\\n          </ion-col>\\r\\n      </ion-label>\\r\\n      </ion-col>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n  </ng-template>\\r\\n</ion-content>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvbWVzc2FnZXMvbWVzc2FnZXMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ChatService } from '../../services/chat.service';\r\nimport { Router } from '@angular/router';\r\nimport { Participant, Chat, Message } from 'src/app/services/helper-classes';\r\n\r\n@Component({\r\n  selector: 'app-messages',\r\n  templateUrl: './messages.page.html',\r\n  styleUrls: ['./messages.page.scss'],\r\n})\r\nexport class MessagesPage implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public cs: ChatService\r\n    ) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  emptyInbox() {\r\n    return this.cs.chatList.length === 0;\r\n  }\r\n\r\n  getLastSender(sender: number, participants: Array<Participant>): string {\r\n    let lastSender: string;\r\n    // If sender is user\r\n    if (participants[sender].email === this.cs.user.email)\r\n      lastSender = 'You';\r\n    else\r\n      // Convert email into name - loop through all participants for match\r\n      participants.forEach(participant => {\r\n        if (participants[sender].email === participant.email) {\r\n          lastSender = participant.name;\r\n        }\r\n      });\r\n    return lastSender;\r\n  }\r\n\r\n  getTime(message: Message): string {\r\n    const date = new Date(message.time);\r\n    let time = '';\r\n    const now = new Date();\r\n    // If today\r\n    if (date.getDate() === now.getDate()\r\n    && date.getMonth() === now.getMonth()\r\n    && date.getFullYear() === now.getFullYear())\r\n      if (date.getMinutes() < 10)\r\n        time += `${date.getHours()}:0${date.getMinutes()}`;\r\n      else\r\n        time += `${date.getHours()}:${date.getMinutes()}`;\r\n    // If this year\r\n    else if (date.getFullYear() === now.getFullYear())\r\n      time += `${date.getDate()}/${date.getMonth()}`;\r\n    else\r\n      time += `${date.getFullYear()}`;\r\n    return time;\r\n  }\r\n\r\n  // TODO: Get number of unread messages\r\n  unreadMessages(): string {\r\n    return null;\r\n  }\r\n\r\n  getSortedChats(): Array<Chat> {\r\n    return this.cs.chats.sort((a, b) => {\r\n      // Sort by last time for last sent message\r\n      return a.messages[a.messages.length - 1].time\r\n           - b.messages[b.messages.length - 1].time;\r\n    }) // Reverse\r\n    .reverse();\r\n  }\r\n\r\n  goToChat(e) {\r\n    const id = e.currentTarget.attributes['data-chat-id'].value;\r\n    this.router.navigate(['members', 'messages', 'chat', id]);\r\n  }\r\n\r\n}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>New Message</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <div class=\\\"chat-message clearfix\\\">\\r\\n    <ion-input [(ngModel)]=\\\"messageText\\\" placeholder=\\\"Enter a message...\\\" class=\\\"chat-message-input\\\" type=\\\"text\\\"></ion-input>\\r\\n    <button (click)=\\\"sendMessage()\\\">\\r\\n      <ion-icon name=\\\"send\\\"></ion-icon>\\r\\n    </button>\\r\\n  </div> <!-- end chat-message -->\\r\\n</ion-content>\"","module.exports = \"ion-content {\\n  --background: var(--ion-color-light); }\\n\\n.chat-message {\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n  height: 10%;\\n  display: flex;\\n  align-items: center;\\n  background-color: var(--ion-item-background-color); }\\n\\n.chat-message .chat-message-input {\\n    border-radius: 1rem;\\n    width: 86%;\\n    margin-left: 1%;\\n    background-color: var(--ion-background-color);\\n    color: var(--ion-text-color);\\n    display: inline-block; }\\n\\n.chat-message button {\\n    background: none;\\n    float: right;\\n    color: #94C2ED;\\n    border: none;\\n    cursor: pointer;\\n    font-weight: bold;\\n    width: 13%;\\n    text-align: center; }\\n\\n.chat-message button:hover {\\n      color: #75b1e8; }\\n\\n.chat-message button ion-icon {\\n      font-size: 2rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9tZXNzYWdlcy9uZXcvQzpcXFVzZXJzXFxNb3NodVxcRGVza3RvcFxcQ2FycG9vbFxcQ2FycG9vbC9zcmNcXGFwcFxcbWVtYmVyc1xcbWVzc2FnZXNcXG5ld1xcbmV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksb0NBQWEsRUFBQTs7QUFHakI7RUFDSSxlQUFlO0VBQ2YsU0FBUztFQUNULFdBQVc7RUFDWCxXQUFXO0VBQ1gsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixrREFBa0QsRUFBQTs7QUFQdEQ7SUFTTSxtQkFBbUI7SUFDbkIsVUFBVTtJQUNWLGVBQWU7SUFDZiw2Q0FBNkM7SUFDN0MsNEJBQTRCO0lBQzVCLHFCQUFxQixFQUFBOztBQWQzQjtJQWtCTSxnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLGNBekJRO0lBMEJSLFlBQVk7SUFDWixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLFVBQVU7SUFDVixrQkFBa0IsRUFBQTs7QUF6QnhCO01BMkJRLGNBQXdCLEVBQUE7O0FBM0JoQztNQThCUSxlQUFlLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tZW1iZXJzL21lc3NhZ2VzL25ldy9uZXcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIkYmx1ZTogIzk0QzJFRDtcclxuaW9uLWNvbnRlbnQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xyXG59XHJcblxyXG4uY2hhdC1tZXNzYWdlIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1pdGVtLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgLmNoYXQtbWVzc2FnZS1pbnB1dCB7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XHJcbiAgICAgIHdpZHRoOiA4NiU7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAxJTtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgICBjb2xvcjogdmFyKC0taW9uLXRleHQtY29sb3IpO1xyXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICAgIGZsb2F0OiByaWdodDtcclxuICAgICAgY29sb3I6ICRibHVlO1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIHdpZHRoOiAxMyU7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgY29sb3I6IGRhcmtlbigkYmx1ZSwgNyUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8gLmNoYXQtbWVzc2FnZSB7XHJcbi8vICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbi8vICAgICB3aWR0aDogMTAwJTtcclxuLy8gICAgIGJhY2tncm91bmQtY29sb3I6ICNGMkY1Rjg7XHJcbi8vICAgICBib3R0b206IDA7XHJcbi8vICAgICB0ZXh0YXJlYSB7XHJcbi8vICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbi8vICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4vLyAgICAgICAgIHBhZGRpbmc6IDBweCAyMHB4O1xyXG4vLyAgICAgICAgIGZvbnQ6IDE0cHgvMjJweCBcIkxhdG9cIiwgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbi8vICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuLy8gICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbi8vICAgICAgICAgcmVzaXplOiBub25lO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgYnV0dG9uIHtcclxuLy8gICAgICAgICBmbG9hdDogcmlnaHQ7XHJcbi8vICAgICAgICAgY29sb3I6ICRibHVlO1xyXG4vLyAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG4vLyAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuLy8gICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4vLyAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuLy8gICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbi8vICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbi8vICAgICAgICAgYmFja2dyb3VuZDogI0YyRjVGODtcclxuLy8gICAgICAgICAmOmhvdmVyIHtcclxuLy8gICAgICAgICBjb2xvcjogZGFya2VuKCRibHVlLCA3JSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { Participant } from 'src/app/services/helper-classes';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { DatabaseService } from 'src/app/services/database.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'new',\r\n  templateUrl: './new.component.html',\r\n  styleUrls: ['./new.component.scss'],\r\n})\r\nexport class NewComponent implements OnInit {\r\n\r\n  messageText: string;\r\n\r\n  constructor(\r\n    private authService: AuthenticationService,\r\n    private db: DatabaseService,\r\n    private cs: ChatService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {}\r\n\r\n  sendMessage() {\r\n    const sender = new Participant(this.authService.user.email, this.authService.user.displayName);\r\n    const receiver = new Participant(this.db.viewUser.email, this.db.viewUser.name);\r\n    // Create chat and redirect to it\r\n    this.cs.createChat(sender, receiver, this.messageText).then(id => this.router.navigate(['members', 'messages', 'chat', id]));\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}